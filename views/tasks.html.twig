<html>
    <head>
        <title>To Do List</title>
    </head>
    <body>
        <h1>Tasks</h1>

        {% if tasks is not empty %}
            <p>Here are all your tasks:</p>
            <ul>
                {% for task in tasks %}
                    <li>
                        {# if task is completed, display it as checked #}
                        <input onchange="window.location.href='/tasks/{{ task.getId }}/completed'" type="checkbox" name="completed" value="true"
                            {% if task.getCompleted == true %} checked{% endif %}>
                        <a href = "/tasks/{{ task.getId }}">{{ task.getDescription }}</a>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}

        <form action = '/tasks' method = 'post'>
            <label for 'description'>Task description:</label>
            <input id = 'description' name = 'description' type = 'text'>

            <label for='due_date'>Due by:</label>
            <input type='date' name='due_date' id='due_date'>

            <button type = 'submit'>Add task</button>
        </form>

        <form action = '/delete_tasks' method = 'post'>
            <button type = 'submit'>Clear</button>
        </form>

        <p><a href ='/'>Home</a></p>
    </body>
</html>
